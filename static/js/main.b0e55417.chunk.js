(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{44:function(e,t,n){},51:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(33),r=n.n(s),o=(n(44),n(5)),i=n(0);function l(){return Object(i.jsx)("div",{className:"background",children:Object(i.jsxs)("div",{className:"landingpage_container",children:[Object(i.jsx)("h1",{className:"landingpage_heading",children:"JobEasy"}),Object(i.jsx)("p",{className:"landingpage_content",children:"Simpler way to apply for jobs"}),Object(i.jsxs)("div",{className:"landingpage_btns",children:[Object(i.jsx)(o.b,{to:"/signup",children:Object(i.jsx)("button",{className:"landingpage_btn",children:"Sign up"})}),Object(i.jsx)(o.b,{to:"/login",children:Object(i.jsx)("button",{className:"landingpage_btn",children:"Login"})})]})]})})}n(51);var u=n(2),j=n.n(u),p=n(6),b=n(19),d=n(14),h=n(4),m=n(3),O=n(8),x=n.n(O);function f(e){var t=e.initialValues,n=Object(m.g)(),c=Object(a.useState)(t||{}),s=Object(h.a)(c,2),r=s[0],o=s[1],i=Object(a.useState)(null),l=Object(h.a)(i,2),u=l[0],O=l[1],f=function(){var e=Object(p.a)(j.a.mark((function e(t){var a,c,s,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://jobeasyapi.herokuapp.com",a=t.values,c=a.username,s=a.email,r=a.password,o=a.isRecruiter,e.prev=3,e.next=6,x()({method:"POST",url:"".concat("https://jobeasyapi.herokuapp.com","/auth/signup"),data:{username:c,email:s,password:r,isRecruiter:o},headers:new Headers({"Content-Type":"application/json"})}).then((function(e){n.push("/login")}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),O(e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(j.a.mark((function e(t){var a,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://jobeasyapi.herokuapp.com",a=t.values,c=a.email,s=a.password,e.prev=3,e.next=6,x()({method:"POST",url:"".concat("https://jobeasyapi.herokuapp.com","/auth/login"),data:{email:c,password:s},headers:new Headers({"Content-Type":"application/json"})}).then((function(e){n.push("/"),localStorage.setItem("token",e.data.token),localStorage.setItem("userId",e.data.user._id)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),O(e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(j.a.mark((function e(t){var n,a,c,s,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://jobeasyapi.herokuapp.com",n=t.values,a=n.jobdescription,c=n.location,s=n.company,r=n.jobtitle,o=n.userId,e.prev=3,e.next=6,x()({method:"POST",url:"".concat("https://jobeasyapi.herokuapp.com","/posts/add"),data:{jobdescription:a,location:c,company:s,jobtitle:r,userId:o},headers:new Headers({"Content-Type":"application/json"})}).then((function(e){window.location.reload(!1),console.log(e)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),O(e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}();return{handle_change:function(e){var t=e.target.value,n=e.target.name;o(Object(d.a)(Object(d.a)({},r),{},Object(b.a)({},n,t)))},values:r,handle_signup:function(e){e.preventDefault(),f({values:r})},handle_login:function(e){e.preventDefault(),v({values:r})},handle_post:function(e){e.preventDefault(),g({values:r})},error:u}}function v(){var e=f({initialValues:{email:"",password:""}}),t=e.handle_change,n=e.values,a=e.handle_login,c=e.error;return Object(i.jsx)("div",{className:"background",children:Object(i.jsx)("div",{className:"login_container",children:Object(i.jsx)("div",{className:"login_content",children:Object(i.jsxs)("div",{className:"login_form",children:[Object(i.jsx)("h1",{className:"login_heading",children:Object(i.jsx)(o.b,{to:"/",children:"JobEasy"})}),Object(i.jsx)("h1",{children:"Login"}),c&&Object(i.jsx)("p",{className:"errorMessage",children:c.messages}),Object(i.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(i.jsx)("input",{type:"email",id:"email",placeholder:"Enter email",name:"email",onChange:t,value:n.email}),Object(i.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(i.jsx)("input",{type:"password",id:"password",placeholder:"Enter password",name:"password",onChange:t,value:n.password}),Object(i.jsx)("button",{className:"auth_btn",onClick:a,children:"Login"}),Object(i.jsxs)("p",{children:["New Here? ",Object(i.jsx)(o.b,{to:"/signup",children:"Sign up"})]})]})})})})}n(71);function g(){var e=f({initialValues:{email:"",username:"",password:"",isRecruiter:!1}}),t=e.handle_change,n=e.values,a=e.handle_signup,c=e.error;return Object(i.jsx)("div",{className:"background",children:Object(i.jsx)("div",{className:"signup_container",children:Object(i.jsx)("div",{className:"signup_content",children:Object(i.jsxs)("div",{className:"signup_form",children:[Object(i.jsx)("h1",{className:"signup_heading",children:Object(i.jsx)(o.b,{to:"/",children:"JobEasy"})}),Object(i.jsx)("h1",{children:"Sign up"}),c&&Object(i.jsx)("p",{className:"errorMessage",children:c.messages}),Object(i.jsx)("label",{htmlFor:"username",children:"Name:"}),Object(i.jsx)("input",{type:"text",id:"username",placeholder:"Enter username",name:"username",onChange:t,value:n.username}),Object(i.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(i.jsx)("input",{type:"email",id:"email",placeholder:"Enter email",name:"email",onChange:t,value:n.email}),Object(i.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(i.jsx)("input",{type:"password",id:"password",placeholder:"Enter password",name:"password",onChange:t,value:n.password}),Object(i.jsxs)("label",{htmlFor:"isRecruiter",className:"input_checkbox",children:["I'm a recruiter:",Object(i.jsx)("input",{type:"checkbox",id:"isRecruiter",name:"isRecruiter",onChange:t,value:!0})]}),Object(i.jsx)("button",{className:"auth_btn",onClick:a,children:"Sign up"}),Object(i.jsxs)("p",{children:["Already have an account? ",Object(i.jsx)(o.b,{to:"/login",children:"Login"})]})]})})})})}n(72),n(73);function _(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],s=localStorage.getItem("userId"),r="".concat("https://jobeasyapi.herokuapp.com","/users/").concat(s);Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x()(r);case 2:return t=e.sent,e.next=5,t;case 5:n=e.sent,c(n.data.other);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]);return Object(i.jsxs)("div",{className:"topbar_container",children:[Object(i.jsx)("div",{className:"topbar_left",children:Object(i.jsx)(o.b,{to:"/",style:{textDecoration:"none"},className:"userprofile",children:Object(i.jsx)("h1",{children:"JobEasy"})})}),Object(i.jsxs)("div",{className:"topbar_right",children:[Object(i.jsxs)(o.b,{to:"/profile/".concat(n.username),style:{textDecoration:"none"},className:"userprofile",children:[Object(i.jsx)("img",{src:n.profilePicture,alt:"profilePic",className:"nav_profile_pic"}),Object(i.jsx)("p",{children:n.username})]}),Object(i.jsx)(o.b,{to:"/login",style:{textDecoration:"none"},onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("userId")},children:Object(i.jsx)("p",{className:"logout_btn",children:"logout"})})]})]})}n(74);var N=n(37),y=n(38);n(75);function w(e){var t=e.applicants,n=Object(a.useState)([]),c=Object(h.a)(n,1)[0],s=Object(a.useState)([]),r=Object(h.a)(s,2),l=r[0],u=r[1];return t.map((function(e){return c.push("".concat("https://jobeasyapi.herokuapp.com","/users/").concat(e))})),Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(c.map(function(){var e=Object(p.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x()("".concat(t));case 2:return n=e.sent,e.next=5,n;case 5:a=e.sent,u((function(e){return[].concat(Object(y.a)(e),[a.data.other])}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c]),Object(i.jsx)(i.Fragment,{children:l.map((function(e){return Object(i.jsx)("div",{className:"applicant_details",children:Object(i.jsxs)(o.b,{to:"/profile/".concat(e.username),style:{textDecoration:"none"},className:"userprofile",children:[Object(i.jsx)("img",{src:e.profilePicture,alt:"profileImg",className:"applicant_profile"}),Object(i.jsx)("p",{className:"applicant_name",children:e.username})]})},e._id)}))})}function k(e){var t=e.job,n=e.isRecruiter,c=e.userId,s=Object(a.useState)(!1),r=Object(h.a)(s,2),o=r[0],l=r[1],u=Object(a.useState)(!1),b=Object(h.a)(u,2),d=b[0],m=b[1],O=function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x()({method:"PUT",url:"".concat("https://jobeasyapi.herokuapp.com","/posts/apply/").concat(t._id),data:{userId:c}}).then((function(e){console.log(e),window.location.reload(!1)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(i.jsxs)("div",{className:"job_container",children:[Object(i.jsxs)("div",{className:"job_main_content",children:[Object(i.jsx)("p",{className:"job_title",children:t.jobtitle}),Object(i.jsx)("p",{className:"job_company",children:t.company}),Object(i.jsxs)("p",{className:"job_applicants",children:["No. of applicants: ",t.applicants.length]}),Object(i.jsxs)("p",{className:"job_location",children:[t.location," ",Object(i.jsx)("span",{className:"postDate",children:Object(N.a)(t.createdAt)})]}),o?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h4",{children:"Job Details:"}),Object(i.jsx)("p",{children:t.jobdescription})]}):null,d?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h4",{children:"Job Applicants:"}),Object(i.jsx)(w,{applicants:t.applicants})]}):null]}),Object(i.jsxs)("div",{className:"job_side_content",children:[Object(i.jsx)("button",{className:"job_btns",onClick:function(){l(!o)},children:"View details"}),n?Object(i.jsx)("button",{className:"job_btns",onClick:function(){m(!d)},children:"See applicants"}):t.applicants.includes(c)?Object(i.jsx)("button",{className:"job_btns_applied",children:"Applied"}):Object(i.jsx)("button",{className:"job_btns",onClick:O,children:"Apply"})]})]},t._id)}n(76);function S(e){var t=e.data,n=Object(a.useState)(!1),c=Object(h.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)([]),l=Object(h.a)(o,2),u=l[0],b=l[1],d=f({initialValues:{jobdescription:"",location:"",company:"",jobtitle:"",userId:"".concat(t._id)}}),m=d.handle_change,O=d.values,v=d.handle_post,g=d.error,_="".concat("https://jobeasyapi.herokuapp.com","/posts/jobposts/").concat(t._id);return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x()(_);case 2:return t=e.sent,e.next=5,t;case 5:n=e.sent,b(n.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[_]),Object(i.jsxs)("div",{className:"recruiter_container",children:[Object(i.jsxs)("h3",{className:"recruiter_welcome",children:["Welcome ",t.username,"!"]}),s?Object(i.jsx)("div",{className:"post_job_box",children:Object(i.jsxs)("div",{className:"post_container",children:[g&&Object(i.jsx)("p",{className:"errorMessage",children:g.messages}),Object(i.jsx)("label",{htmlFor:"jobtitle",children:"Job Title:"}),Object(i.jsx)("input",{type:"text",id:"jobtitle",placeholder:"Enter job title",name:"jobtitle",onChange:m,value:O.jobtitle}),Object(i.jsx)("label",{htmlFor:"company",children:"Company:"}),Object(i.jsx)("input",{type:"text",id:"company",placeholder:"Enter company",name:"company",onChange:m,value:O.company}),Object(i.jsx)("label",{htmlFor:"location",children:"Location:"}),Object(i.jsx)("input",{type:"text",id:"location",placeholder:"Enter location",name:"location",onChange:m,value:O.location}),Object(i.jsx)("label",{htmlFor:"jobdescription",children:"Job Description:"}),Object(i.jsx)("textarea",{cols:"20",rows:"5",id:"jobdescription",placeholder:"Enter jobdescription",name:"jobdescription",onChange:m,value:O.jobdescription}),Object(i.jsx)("button",{className:"post_job_btn",onClick:function(){r(!1)},children:"Cancel"}),Object(i.jsx)("button",{className:"post_job_btn",onClick:v,children:"Post"})]})}):Object(i.jsx)("button",{className:"post_job_btn",onClick:function(){r(!0)},children:"Post Job"}),Object(i.jsx)("p",{className:"posted_heading",children:"Posted Jobs:"}),u.map((function(e){return Object(i.jsx)(k,{job:e,isRecruiter:t.isRecruiter},e._id)}))]})}n(77);function C(e){var t=e.data,n=Object(a.useState)([]),c=Object(h.a)(n,2),s=c[0],r=c[1],o="".concat("https://jobeasyapi.herokuapp.com","/posts/all");return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x()(o);case 2:return t=e.sent,e.next=5,t;case 5:n=e.sent,r(n.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[o]),Object(i.jsxs)("div",{className:"student_container",children:[Object(i.jsxs)("h3",{className:"student_welcome",children:["Welcome ",t.username,"!"]}),Object(i.jsx)("p",{className:"posted_heading",children:"Posted Jobs:"}),s.map((function(e){return Object(i.jsx)(k,{job:e,isRecruiter:t.isRecruiter,userId:t._id},e._id)}))]})}function E(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],s=localStorage.getItem("userId"),r="".concat("https://jobeasyapi.herokuapp.com","/users/").concat(s);return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x()(r);case 2:return t=e.sent,e.next=5,t;case 5:n=e.sent,c(n.data.other);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]),Object(i.jsxs)("div",{children:[Object(i.jsx)(_,{}),n.isRecruiter?Object(i.jsx)(S,{data:n}):Object(i.jsx)(C,{data:n})]})}n(78);function I(){var e=Object(m.h)().username,t=Object(a.useState)([]),n=Object(h.a)(t,2),c=n[0],s=n[1];return Object(a.useEffect)((function(){var t=function(){var t=Object(p.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("".concat("https://jobeasyapi.herokuapp.com","/users/profile/find/?username=").concat(e));case 2:n=t.sent,s(n.data.other);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(i.jsxs)("div",{children:[Object(i.jsx)(_,{}),Object(i.jsx)("div",{className:"profile_container",children:Object(i.jsxs)("div",{className:"profile_main",children:[Object(i.jsx)("img",{src:c.profilePicture,alt:"profilePicture"}),Object(i.jsx)("p",{className:"profile_name",children:c.username}),Object(i.jsx)("p",{className:"profile_email",children:c.email}),Object(i.jsx)("p",{className:"profile_email",children:"LinkedIn: ".concat(""!==c.linkedIn?c.linkedIn:"not updated")}),Object(i.jsx)("p",{className:"profile_email",children:"Github: ".concat(""!==c.github?c.github:"not updated")})]})})]})}var P=n(39),F=n(36),J=["component"],R=function(e){var t=e.component,n=Object(P.a)(e,J),c=Object(a.useState)(null),s=Object(h.a)(c,2),r=s[0],o=s[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("token");if(e){var t=Object(F.a)(e).exp,n=new Date;console.log(t),console.log(n),t<n.getTime()/1e3?o(!1):o(!0)}else o(!1)}),[r]),null===r?Object(i.jsx)(i.Fragment,{}):Object(i.jsx)(m.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){return r?Object(i.jsx)(t,Object(d.a)({},e)):Object(i.jsx)(m.a,{to:"/welcome"})}}))};var D=function(){return Object(i.jsx)(o.a,{basename:"/jobeasy",children:Object(i.jsxs)(m.d,{children:[Object(i.jsx)(m.b,{exact:!0,path:"/welcome",component:l}),Object(i.jsx)(m.b,{path:"/signup",component:g}),Object(i.jsx)(m.b,{path:"/login",component:v}),Object(i.jsx)(R,{exact:!0,path:"/",component:E}),Object(i.jsx)(R,{path:"/profile/:username",component:I})]})})};r.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(D,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.b0e55417.chunk.js.map